{"version":3,"file":"component---src-components-bettan-page-js-6676df8fd5c27fe87135.js","mappings":"0KAAA,EAAe,IAA0B,qD,iDCqEzC,MA1DmBA,KACjB,MAAM,EAACC,EAAK,EAACC,IAAWC,EAAAA,EAAAA,UAAS,+CAC3B,EAACC,EAAU,EAACC,IAAgBF,EAAAA,EAAAA,UAAS,KAEnCG,KAAMC,IAAeC,EAAAA,EAAAA,IAAO,iBAAkB,CACpDC,gBAAiB,OAGbC,EAAUC,UACd,IACE,MAAM,KAAEL,SAAeM,EAAAA,EAAAA,IAAK,iBAAiBC,EAAO,KACpDX,EAAQI,EAAKQ,QACbT,EClBe,gCDmBjB,CAAE,MAAOU,QACcC,IAAjBD,EAAIE,UAA0BF,EAAIE,SAASX,KAC7CJ,EAAQa,EAAIE,SAASX,KAAKQ,QACvBZ,EAAQ,uCACbG,EC1Ba,8BD2Bf,GAGF,OACEa,EAAAA,cAACC,EAAAA,EAAS,KACRD,EAAAA,cAACE,EAAAA,EAAa,KACZF,EAAAA,cAACG,EAAAA,EAAQ,KACPH,EAAAA,cAAA,OAAKI,UCjCG,6BDiCcC,IAAKC,EAAQC,IAAI,gBACvCP,EAAAA,cAAA,MAAII,UCjCS,mCDiCa,UAQ1BJ,EAAAA,cAAA,KAAGI,UAAWlB,GAAYH,GAC1BiB,EAAAA,cAAA,OAAKI,UC7CM,iCD8CTJ,EAAAA,cAACQ,EAAAA,GAAU,CACTC,cAAeC,EAAAA,IACf3B,KAAK,MACL4B,QAASA,IAAMnB,EAAQ,UAEzBQ,EAAAA,cAACQ,EAAAA,GAAU,CACTC,cAAeG,EAAAA,IACf7B,KAAK,UACL4B,QAASA,IAAMnB,EAAQ,aAG1BH,GACCW,EAAAA,cAAA,KACEa,MAAO,CAAEC,OAAQ,EAAGC,UAAW,SAAS,gBACxBC,KAAKC,MAAM5B,EAAW6B,oBAAmB,OAIvD,C","sources":["webpack://medlem/./src/images/bettan.png","webpack://medlem/./src/components/bettanPage.js","webpack://medlem/./src/scss/bettan.module.scss"],"sourcesContent":["export default __webpack_public_path__ + \"static/bettan-9aec48e3b74dd060ac7b12dba32b36d5.png\";","import React, { useState } from 'react'\r\nimport { FiLock, FiUnlock } from 'react-icons/fi'\r\nimport bettan from '../images/bettan.png'\r\n\r\nimport { success, error, logo, buttons, roomTitle } from '../scss/bettan.module.scss'\r\nimport { post } from './request'\r\nimport BigPixels from './layout/bigPixels'\r\nimport { IconButton } from './ui/buttons'\r\nimport { GridContainer, GridItem } from './ui/grid'\r\nimport useSWR from 'swr'\r\n\r\nconst BettanPage = () => {\r\n  const [text, setText] = useState('Här kan du låsa upp sektionsrummet Bettan.')\r\n  const [textClass, setTextClass] = useState('')\r\n\r\n  const { data: lockStatus } = useSWR('/locks/bettan/', {\r\n    refreshInterval: 180 * 1000, // 3 minutes\r\n  })\r\n\r\n  const request = async command => {\r\n    try {\r\n      const { data } = await post(`/locks/bettan/${command}/`)\r\n      setText(data.detail)\r\n      setTextClass(success)\r\n    } catch (err) {\r\n      if (err.response !== undefined && err.response.data)\r\n        setText(err.response.data.detail)\r\n      else setText('Kunde inte kommunicera med servern.')\r\n      setTextClass(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <BigPixels>\r\n      <GridContainer>\r\n        <GridItem>\r\n          <img className={logo} src={bettan} alt=\"Bettan logo\" />\r\n          <h2 className={roomTitle}>Bettan</h2>\r\n          {/*\r\n            <p className={textClass}>\r\n              Det går för tillfället inte att låsa/låsa upp Bettan genom denna\r\n              sida, då sektionsrummet är utlånat till D-group nu under\r\n              DÖMD-perioden.\r\n            </p>\r\n          */}\r\n          <p className={textClass}>{text}</p>\r\n          <div className={buttons}>\r\n            <IconButton\r\n              iconComponent={FiLock}\r\n              text=\"Lås\"\r\n              onClick={() => request('lock')}\r\n            />\r\n            <IconButton\r\n              iconComponent={FiUnlock}\r\n              text=\"Lås upp\"\r\n              onClick={() => request('unlock')}\r\n            />\r\n          </div>\r\n          {lockStatus && (\r\n            <p\r\n              style={{ margin: 0, marginTop: '1rem' }}\r\n            >{`Batterinivå: ${Math.round(lockStatus.battery_percentage)}%`}</p>\r\n          )}\r\n        </GridItem>\r\n      </GridContainer>\r\n    </BigPixels>\r\n  )\r\n}\r\n\r\nexport default BettanPage\r\n","// extracted by mini-css-extract-plugin\nexport var buttons = \"bettan-module--buttons--6e645\";\nexport var error = \"bettan-module--error--09391\";\nexport var logo = \"bettan-module--logo--75ae4\";\nexport var roomTitle = \"bettan-module--roomTitle--0e799\";\nexport var success = \"bettan-module--success--53a0a\";"],"names":["BettanPage","text","setText","useState","textClass","setTextClass","data","lockStatus","useSWR","refreshInterval","request","async","post","command","detail","err","undefined","response","React","BigPixels","GridContainer","GridItem","className","src","bettan","alt","IconButton","iconComponent","FiLock","onClick","FiUnlock","style","margin","marginTop","Math","round","battery_percentage"],"sourceRoot":""}