{"version":3,"file":"component---src-components-bettan-page-js-6676df8fd5c27fe87135.js","mappings":"0KAAA,EAAe,IAA0B,qD,iDCqEzC,MA1DmBA,KACjB,MAAM,EAACC,EAAK,EAACC,IAAWC,EAAAA,EAAAA,UAAS,+CAC3B,EAACC,EAAU,EAACC,IAAgBF,EAAAA,EAAAA,UAAS,KAEnCG,KAAMC,IAAeC,EAAAA,EAAAA,IAAO,iBAAkB,CACpDC,gBAAiB,OAGbC,EAAUC,UACd,IACE,MAAM,KAAEL,SAAeM,EAAAA,EAAAA,IAAK,iBAAiBC,EAAO,KACpDX,EAAQI,EAAKQ,QACbT,EClBe,gCDmBjB,CAAE,MAAOU,QACcC,IAAjBD,EAAIE,UAA0BF,EAAIE,SAASX,KAC7CJ,EAAQa,EAAIE,SAASX,KAAKQ,QACvBZ,EAAQ,uCACbG,EC1Ba,8BD2Bf,GAGF,OACEa,EAAAA,cAACC,EAAAA,EAAS,KACRD,EAAAA,cAACE,EAAAA,EAAa,KACZF,EAAAA,cAACG,EAAAA,EAAQ,KACPH,EAAAA,cAAA,OAAKI,UCjCG,6BDiCcC,IAAKC,EAAQC,IAAI,gBACvCP,EAAAA,cAAA,MAAII,UCjCS,mCDiCa,UAQ1BJ,EAAAA,cAAA,KAAGI,UAAWlB,GAAYH,GAC1BiB,EAAAA,cAAA,OAAKI,UC7CM,iCD8CTJ,EAAAA,cAACQ,EAAAA,GAAU,CACTC,cAAeC,EAAAA,IACf3B,KAAK,MACL4B,QAASA,IAAMnB,EAAQ,UAEzBQ,EAAAA,cAACQ,EAAAA,GAAU,CACTC,cAAeG,EAAAA,IACf7B,KAAK,UACL4B,QAASA,IAAMnB,EAAQ,aAG1BH,GACCW,EAAAA,cAAA,KACEa,MAAO,CAAEC,OAAQ,EAAGC,UAAW,SAAS,gBACxBC,KAAKC,MAAM5B,EAAW6B,oBAAmB,OAIvD,C","sources":["webpack://medlem/./src/images/bettan.png","webpack://medlem/./src/components/bettanPage.js","webpack://medlem/./src/scss/bettan.module.scss"],"sourcesContent":["export default __webpack_public_path__ + \"static/bettan-9aec48e3b74dd060ac7b12dba32b36d5.png\";","import React, { useState } from 'react'\nimport { FiLock, FiUnlock } from 'react-icons/fi'\nimport bettan from '../images/bettan.png'\n\nimport { success, error, logo, buttons, roomTitle } from '../scss/bettan.module.scss'\nimport { post } from './request'\nimport BigPixels from './layout/bigPixels'\nimport { IconButton } from './ui/buttons'\nimport { GridContainer, GridItem } from './ui/grid'\nimport useSWR from 'swr'\n\nconst BettanPage = () => {\n  const [text, setText] = useState('Här kan du låsa upp sektionsrummet Bettan.')\n  const [textClass, setTextClass] = useState('')\n\n  const { data: lockStatus } = useSWR('/locks/bettan/', {\n    refreshInterval: 180 * 1000, // 3 minutes\n  })\n\n  const request = async command => {\n    try {\n      const { data } = await post(`/locks/bettan/${command}/`)\n      setText(data.detail)\n      setTextClass(success)\n    } catch (err) {\n      if (err.response !== undefined && err.response.data)\n        setText(err.response.data.detail)\n      else setText('Kunde inte kommunicera med servern.')\n      setTextClass(error)\n    }\n  }\n\n  return (\n    <BigPixels>\n      <GridContainer>\n        <GridItem>\n          <img className={logo} src={bettan} alt=\"Bettan logo\" />\n          <h2 className={roomTitle}>Bettan</h2>\n          {/*\n            <p className={textClass}>\n              Det går för tillfället inte att låsa/låsa upp Bettan genom denna\n              sida, då sektionsrummet är utlånat till D-group nu under\n              DÖMD-perioden.\n            </p>\n          */}\n          <p className={textClass}>{text}</p>\n          <div className={buttons}>\n            <IconButton\n              iconComponent={FiLock}\n              text=\"Lås\"\n              onClick={() => request('lock')}\n            />\n            <IconButton\n              iconComponent={FiUnlock}\n              text=\"Lås upp\"\n              onClick={() => request('unlock')}\n            />\n          </div>\n          {lockStatus && (\n            <p\n              style={{ margin: 0, marginTop: '1rem' }}\n            >{`Batterinivå: ${Math.round(lockStatus.battery_percentage)}%`}</p>\n          )}\n        </GridItem>\n      </GridContainer>\n    </BigPixels>\n  )\n}\n\nexport default BettanPage\n","// extracted by mini-css-extract-plugin\nexport var buttons = \"bettan-module--buttons--6e645\";\nexport var error = \"bettan-module--error--09391\";\nexport var logo = \"bettan-module--logo--75ae4\";\nexport var roomTitle = \"bettan-module--roomTitle--0e799\";\nexport var success = \"bettan-module--success--53a0a\";"],"names":["BettanPage","text","setText","useState","textClass","setTextClass","data","lockStatus","useSWR","refreshInterval","request","async","post","command","detail","err","undefined","response","React","BigPixels","GridContainer","GridItem","className","src","bettan","alt","IconButton","iconComponent","FiLock","onClick","FiUnlock","style","margin","marginTop","Math","round","battery_percentage"],"sourceRoot":""}