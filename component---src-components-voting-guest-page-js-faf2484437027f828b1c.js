"use strict";(self.webpackChunkmedlem=self.webpackChunkmedlem||[]).push([[699],{3541:function(e,t,n){n.d(t,{HC:function(){return i},aV:function(){return r},zj:function(){return c}});var l=n(7294),a=n(4608);const r=e=>{let{children:t}=e;return l.createElement("ul",{className:a.pb},t)},i=e=>{let{title:t,subtitle:n,buttons:r,color:i}=e;return l.createElement("li",{className:i?a.K:"",style:{borderColor:i}},l.createElement("div",{className:a.l_},l.createElement("h3",null,t),l.createElement("p",null,n)),l.createElement("div",{className:a.jk},r))};i.defaultProps={color:null};const c=e=>{let{href:t,onClick:n,iconComponent:r,text:i,shown:c}=e;return c?l.createElement(l.Fragment,null,t?l.createElement("a",{className:a.fq,href:t,onClick:n,title:i},l.createElement(r,null)):l.createElement("button",{className:a.fq,type:"button",onClick:n,title:i},l.createElement(r,null))):l.createElement(l.Fragment,null)};c.defaultProps={shown:!0}},7333:function(e,t,n){var l=n(5785),a=n(7294),r=n(4608),i=n(7580);const c=e=>{let{title:t,choices:n,categorizedChoices:c,choice:o,setChoice:s,label:m,action:u,actionLabel:d,noChoicesLabel:E}=e;const p=[].concat((0,l.Z)(n||[]),(0,l.Z)(Object.keys(c).reduce(((e,t)=>[].concat((0,l.Z)(e),(0,l.Z)(c[t]))),[])));return a.createElement("div",{className:r.KW},a.createElement("h1",null,t),a.createElement("div",{className:r.Nw},p.length?a.createElement("div",{className:r.Nu},a.createElement("select",{onChange:e=>{const t=e.target.value,n=""===t?null:p.filter((e=>""+e.id===t))[0];s(n)},value:o?o.id:""},a.createElement("option",{hidden:!0,value:""}),n.sort().map((e=>a.createElement("option",{value:e.id,key:e.id},e[m]))),Object.keys(c).sort().map((e=>a.createElement("optgroup",{label:e,key:e},c[e].sort().map((e=>a.createElement("option",{value:e.id,key:e.id},e[m]))))))),null===o&&a.createElement("div",{className:r.$f},"Välj ett objekt")):a.createElement("span",null,E),u&&a.createElement(i.zx,{onClick:u},d)))};c.defaultProps={categorizedChoices:{},choices:[],action:null,actionLabel:"",choice:null,noChoicesLabel:"",setChoice:()=>{},label:""},t.Z=c},3113:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var l=n(7294),a=n(2132),r=n(746),i=n(1288),c=n(7333),o=n(5785),s=n(2777),m=n(3541),u=n(7580),d=n(2525),E=n(8043);var p=e=>{let{meeting:t}=e;const{data:n,mutate:r}=(0,a.ZP)((()=>t&&"/voting/speakers/?meeting_id="+t.id)),{0:i}=(0,l.useContext)(d.St),c=t.attending?"Talarlista är inaktiverad för mötet.":"Du måste vara registrerad på mötet för att kunna skriva upp dig på talarlistan.";return l.createElement("div",null,l.createElement("h2",null,"Talarlista"),t.attending&&t.enable_speaker_requests?l.createElement(u.hE,null,l.createElement(u.zx,{onClick:async()=>{const{data:e}=await(0,E.v_)("/voting/speakers/",{meeting_id:t.id});r([].concat((0,o.Z)(n),[e]))}},"Jag vill tala!"),l.createElement(u.zx,{onClick:async()=>{const{data:e}=await(0,E.v_)("/voting/speakers/",{meeting_id:t.id,prioritized:!0});r([].concat((0,o.Z)(n),[e]))}},"Replik!")):l.createElement("p",null,c),l.createElement(m.aV,null,n&&n.map((e=>l.createElement(m.HC,{title:e.user.pretty_name,subtitle:e.prioritized?"Replik":null,key:e.id,buttons:[l.createElement(m.zj,{shown:i.id===e.user.id,onClick:async()=>{const l=e.prioritized?"&prioritized":"";await(0,E.IV)("/voting/speakers/?meeting_id="+t.id+l),r(n.filter((t=>t.id!==e.id)))},iconComponent:s.Ybf,text:"Lämna talarlista",key:"remove"})]})))))};var g=e=>{let{currentMeeting:t,revalidate:n}=e;return l.createElement("div",null,l.createElement("h2",null,"Mötesinfo"),l.createElement("h3",null,t.name),l.createElement("p",null,l.createElement("strong",null,t.attending?"Du deltar på mötet som gäst.":"Du är inte registrerad på mötet.")),t.description&&l.createElement("p",{style:{whiteSpace:"pre-line"}},t.description))};var v=e=>{let{pageContext:{title:t}}=e;const{0:n,1:o}=(0,l.useState)(null),{data:s,revalidate:m}=(0,a.ZP)("/voting/guest-meetings/");return(0,l.useEffect)((()=>{n&&o(s.find((e=>e.id===n.id)))}),[s]),l.createElement(r.Z,null,l.createElement(i.T,null,l.createElement(i.P,{fullWidth:!0},l.createElement(c.Z,{title:t,choice:n,setChoice:o,choices:s,label:"name",noChoicesLabel:"Det finns inga möten tillgängliga just nu. Du kan bara se möten du blivit inbjuden till."})),n&&l.createElement(l.Fragment,null,l.createElement(i.P,null,l.createElement(g,{currentMeeting:n,revalidate:m})),l.createElement(i.P,null,l.createElement(p,{meeting:n})))))}}}]);
//# sourceMappingURL=component---src-components-voting-guest-page-js-faf2484437027f828b1c.js.map