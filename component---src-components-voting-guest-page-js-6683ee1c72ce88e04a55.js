"use strict";(self.webpackChunkmedlem=self.webpackChunkmedlem||[]).push([[699],{3541:function(e,t,n){n.d(t,{HC:function(){return r},aV:function(){return i},zj:function(){return c}});var l=n(7294),a=n(4608);const i=e=>{let{children:t}=e;return l.createElement("ul",{className:a.pb},t)},r=e=>{let{title:t,subtitle:n,buttons:i,color:r}=e;return l.createElement("li",{className:r?a.K:"",style:{borderColor:r}},l.createElement("div",{className:a.l_},l.createElement("h3",null,t),l.createElement("p",null,n)),l.createElement("div",{className:a.jk},i))};r.defaultProps={color:null};const c=e=>{let{href:t,onClick:n,iconComponent:i,text:r,shown:c}=e;return c?l.createElement(l.Fragment,null,t?l.createElement("a",{className:a.fq,href:t,onClick:n,title:r},l.createElement(i,null)):l.createElement("button",{className:a.fq,type:"button",onClick:n,title:r},l.createElement(i,null))):l.createElement(l.Fragment,null)};c.defaultProps={shown:!0}},7333:function(e,t,n){var l=n(5785),a=n(7294),i=n(4608),r=n(7580);const c=e=>{let{title:t,choices:n,categorizedChoices:c,choice:s,setChoice:o,label:m,action:u,actionLabel:d,noChoicesLabel:E,onChange:p}=e;const g=[].concat((0,l.Z)(n||[]),(0,l.Z)(Object.keys(c).reduce(((e,t)=>[].concat((0,l.Z)(e),(0,l.Z)(c[t]))),[])));return(0,a.useEffect)((()=>{const e=sessionStorage.getItem(t+"-selectedItem");if(!e)return;const n=g.find((t=>""+t.id===e));n&&o(n)}),[n,c]),a.createElement("div",{className:i.KW},a.createElement("h1",null,t),a.createElement("div",{className:i.Nw},g.length?a.createElement("div",{className:i.Nu},a.createElement("select",{onChange:e=>{const n=e.target.value,l=""===n?null:g.filter((e=>""+e.id===n))[0];o(l),p(e),l?sessionStorage.setItem(t+"-selectedItem",l.id):sessionStorage.removeItem(t+"-selectedItem")},value:s?s.id:""},a.createElement("option",{hidden:!0,value:""}),n.sort().map((e=>a.createElement("option",{value:e.id,key:e.id},e[m]))),Object.keys(c).sort().map((e=>a.createElement("optgroup",{label:e,key:e},c[e].sort().map((e=>a.createElement("option",{value:e.id,key:e.id},e[m]))))))),null===s&&a.createElement("div",{className:i.$f},"Välj ett objekt")):a.createElement("span",null,E),u&&a.createElement(r.zx,{onClick:u},d)))};c.defaultProps={categorizedChoices:{},choices:[],action:null,actionLabel:"",choice:null,noChoicesLabel:"",setChoice:()=>{},label:"",onChange:()=>{}},t.Z=c},3113:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var l=n(7294),a=n(2132),i=n(746),r=n(1288),c=n(7333),s=n(5785),o=n(2777),m=n(3541),u=n(7580),d=n(2525),E=n(8043);var p=e=>{let{meeting:t}=e;const{data:n,mutate:i}=(0,a.ZP)((()=>t&&"/voting/speakers/?meeting_id="+t.id)),{0:r}=(0,l.useContext)(d.St),c=t.attending?"Talarlista är inaktiverad för mötet.":"Du måste vara registrerad på mötet för att kunna skriva upp dig på talarlistan.";return l.createElement("div",null,l.createElement("h2",null,"Talarlista"),t.attending&&t.enable_speaker_requests?l.createElement(u.hE,null,l.createElement(u.zx,{onClick:async()=>{const{data:e}=await(0,E.v_)("/voting/speakers/",{meeting_id:t.id});i([].concat((0,s.Z)(n),[e]))}},"Jag vill tala!"),l.createElement(u.zx,{onClick:async()=>{const{data:e}=await(0,E.v_)("/voting/speakers/",{meeting_id:t.id,prioritized:!0});i([].concat((0,s.Z)(n),[e]))}},"Replik!")):l.createElement("p",null,c),l.createElement(m.aV,null,n&&n.map((e=>l.createElement(m.HC,{title:e.user.pretty_name,subtitle:e.prioritized?"Replik":null,key:e.id,buttons:[l.createElement(m.zj,{shown:r.id===e.user.id,onClick:async()=>{const l=e.prioritized?"&prioritized":"";await(0,E.IV)("/voting/speakers/?meeting_id="+t.id+l),i(n.filter((t=>t.id!==e.id)))},iconComponent:o.Ybf,text:"Lämna talarlista",key:"remove"})]})))))};var g=e=>{let{currentMeeting:t,revalidate:n}=e;return l.createElement("div",null,l.createElement("h2",null,"Mötesinfo"),l.createElement("h3",null,t.name),l.createElement("p",null,l.createElement("strong",null,t.attending?"Du deltar på mötet som gäst.":"Du är inte registrerad på mötet.")),t.description&&l.createElement("p",{style:{whiteSpace:"pre-line"}},t.description))};var h=e=>{let{pageContext:{title:t}}=e;const{0:n,1:s}=(0,l.useState)(null),{data:o,revalidate:m}=(0,a.ZP)("/voting/guest-meetings/");return(0,l.useEffect)((()=>{n&&s(o.find((e=>e.id===n.id)))}),[o]),l.createElement(i.Z,null,l.createElement(r.T,null,l.createElement(r.P,{fullWidth:!0},l.createElement(c.Z,{title:t,choice:n,setChoice:s,choices:o,label:"name",noChoicesLabel:"Det finns inga möten tillgängliga just nu. Du kan bara se möten du blivit inbjuden till."})),n&&l.createElement(l.Fragment,null,l.createElement(r.P,null,l.createElement(g,{currentMeeting:n,revalidate:m})),l.createElement(r.P,null,l.createElement(p,{meeting:n})))))}}}]);
//# sourceMappingURL=component---src-components-voting-guest-page-js-6683ee1c72ce88e04a55.js.map