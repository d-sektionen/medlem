{"version":3,"sources":["webpack:///./src/components/attendance/occurrencePanel.js","webpack:///./src/components/attendance/attendantPanel.js","webpack:///./src/components/attendance/index.js","webpack:///./src/components/attendance/page.js","webpack:///./src/components/request/useRestEndpoint.js","webpack:///./src/components/ui/list.js","webpack:///./src/components/form/dateTimePicker.js","webpack:///./src/components/checkin/doorkeeperPanel.js"],"names":["OccurrencePanel","_ref","setCurrentOccurrence","currentOccurrence","_useState","useState","newOccurrenceName","setNewOccurrenceName","_useRestEndpoint","useRestEndpoint","endpoint","_useRestEndpoint$","list","create","unorderedOccurrences","occurrences","concat","reverse","useEffect","length","Object","assign","react_default","a","createElement","Fragment","value","id","undefined","onChange","e","find","occurrence","target","map","key","name","onSubmit","preventDefault","then","res","data","AttendantPanel","attendants","attendantLimit","attendant_limit","attendant","username","Attendance","bigPixels","grid","occurrencePanel","attendantPanel","doorkeeperPanel","event","AttendancePage","attendance","objHasProperty","_Object$prototype$has","prototype","hasOwnProperty","call","apply","arguments","appendPK","config","pk","rv","forEach","[object Object]","__webpack_exports__","setLoading","useContext","LoadingContext","setData","_useState2","error","setError","params","request","method","Promise","resolve","catch","err","reject","retrieve","prevData","filter","obj","update","body","destroy","__webpack_require__","d","List","ListItem","ListButton","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_scss_ui_module_scss__WEBPACK_IMPORTED_MODULE_1__","_scss_ui_module_scss__WEBPACK_IMPORTED_MODULE_1___default","children","className","style","_ref2","title","subtitle","buttons","listText","listButtons","_ref3","onClick","Icon","iconComponent","text","shown","type","defaultProps","DateTimePicker","react__WEBPACK_IMPORTED_MODULE_2___default","format","timeString","year","parseInt","slice","month","date","newValue","moment","set","hour","minute","Number","isNaN","react_icons_fi__WEBPACK_IMPORTED_MODULE_1__","_request_useRestEndpoint__WEBPACK_IMPORTED_MODULE_2__","_ui_list__WEBPACK_IMPORTED_MODULE_3__","DoorkeeperPanel","input","setInput","doorkeepers","event_id","user_username","doorkeeper","user","pretty_name","FiTrash2"],"mappings":"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","file":"component---src-components-attendance-page-js-c0563307f8ac323720b1.js","sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport style from '../../scss/checkin.module.scss'\nimport { useEndpoint, del, get } from '../request'\nimport { FiTrash2 } from 'react-icons/fi'\nimport useRestEndpoint from '../request/useRestEndpoint'\nimport AutoForm from '../form/form'\n\nconst OccurrencePanel = ({ setCurrentOccurrence, currentOccurrence }) => {\n  const [newOccurrenceName, setNewOccurrenceName] = useState('')\n\n  const [{ list, create }, unorderedOccurrences] = useRestEndpoint({\n    endpoint: '/attendance/occurrences/',\n  })\n\n  const occurrences = unorderedOccurrences\n    ? [...unorderedOccurrences].reverse()\n    : null\n\n  useEffect(() => {\n    list()\n    // TODO: handle errors\n  }, [])\n\n  useEffect(\n    () => {\n      if (!occurrences || !occurrences.length) setCurrentOccurrence(null)\n      else if (currentOccurrence === null)\n        setCurrentOccurrence({ ...occurrences[0] })\n    },\n    [occurrences]\n  )\n\n  if (occurrences === null) return <></>\n\n  return (\n    <div>\n      <h2>Händelser</h2>\n      {occurrences && occurrences.length && (\n        <select\n          value={currentOccurrence ? currentOccurrence.id : undefined}\n          onChange={e =>\n            setCurrentOccurrence(\n              occurrences.find(\n                occurrence => `${occurrence.id}` === e.target.value\n              )\n            )\n          }\n        >\n          {occurrences.map(occurrence => (\n            <option value={occurrence.id} key={occurrence.id}>\n              {occurrence.name}\n            </option>\n          ))}\n        </select>\n      )}\n      {/* <AutoForm endpoint=\"/attendance/occurrences/\" /> */}\n      <form\n        onSubmit={e => {\n          e.preventDefault()\n          setNewOccurrenceName('')\n          // setCurrentOccurrence(null)\n\n          create({ name: newOccurrenceName }).then(res => {\n            setCurrentOccurrence(res.data)\n          })\n        }}\n      >\n        <input\n          value={newOccurrenceName}\n          onChange={e => {\n            setNewOccurrenceName(e.target.value)\n          }}\n        />\n      </form>\n    </div>\n  )\n}\n\nexport default OccurrencePanel\n","import React, { useState, useEffect } from 'react'\n\nimport { FiTrash2 } from 'react-icons/fi'\nimport useRestEndpoint from '../request/useRestEndpoint'\n\nconst AttendantPanel = ({ currentOccurrence }) => {\n  if (!currentOccurrence) return <></>\n\n  const { attendants, attendant_limit: attendantLimit } = currentOccurrence\n\n  return (\n    <div>\n      <h2>Deltagare</h2>\n      <p>Antal deltagare: {attendants.length}</p>\n      {attendantLimit !== 0 && <p>Deltagargräns: {attendantLimit}</p>}\n      <ul>\n        {attendants.map(attendant => (\n          <li key={attendant.id}>{attendant.username}</li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default AttendantPanel\n","import React, { useState } from 'react'\nimport OccurrencePanel from './occurrencePanel'\nimport AttendantPanel from './attendantPanel'\n\nimport DoorkeeperPanel from '../checkin/doorkeeperPanel'\nimport { GridContainer, GridItem } from '../ui/grid'\nimport BigPixels from '../layout/bigPixels'\n\nconst Attendance = () => {\n  const [currentOccurrence, setCurrentOccurrence] = useState(null)\n\n  return (\n    <BigPixels>\n      <GridContainer>\n        <GridItem>\n          <OccurrencePanel\n            currentOccurrence={currentOccurrence}\n            setCurrentOccurrence={setCurrentOccurrence}\n          />\n        </GridItem>\n        <GridItem>\n          <AttendantPanel currentOccurrence={currentOccurrence} />\n        </GridItem>\n        <GridItem>\n          <DoorkeeperPanel event={currentOccurrence} />\n        </GridItem>\n      </GridContainer>\n    </BigPixels>\n  )\n}\n\nexport default Attendance\n","import React from 'react'\nimport Attendance from '.'\n\nconst AttendancePage = () => <Attendance />\n\nexport default AttendancePage\n","import { useContext, useState, useEffect } from 'react'\n\nimport { LoadingContext } from '../layout/layout'\nimport request from '.'\n\nconst objHasProperty = (...args) =>\n  Object.prototype.hasOwnProperty.call(...args)\n\nconst appendPK = (config, pk) => {\n  let rv = { ...config }\n\n  ;['endpoint', 'url'].forEach(key => {\n    if (objHasProperty(rv, key)) rv = { ...rv, [key]: `${rv[key]}${pk}/` }\n  })\n\n  return rv\n}\n\nexport default config => {\n  const setLoading = useContext(LoadingContext)[1]\n  const [data, setData] = useState(null)\n  const [error, setError] = useState(null)\n\n  const list = (params = {}) => {\n    setLoading(true)\n    return request({\n      ...config,\n      params: {\n        ...(objHasProperty(config, 'params') ? config.params : {}),\n        ...params,\n      },\n      method: 'get',\n    })\n      .then(res => {\n        setError(null)\n        setData(res.data)\n        setLoading(false)\n        return Promise.resolve(res)\n      })\n      .catch(err => {\n        setError(err)\n        setLoading(false)\n        return Promise.reject(err)\n      })\n  }\n\n  const create = (body = {}) => {\n    setLoading(true)\n    return request({ ...config, data: body, method: 'post' })\n      .then(res => {\n        setError(null)\n        setData(prevData => [...prevData, res.data])\n        setLoading(false)\n        return Promise.resolve(res)\n      })\n      .catch(err => {\n        setError(err)\n        setLoading(false)\n        return Promise.reject(err)\n      })\n  }\n\n  const update = (pk, body = {}) => {\n    setLoading(true)\n    return request({ ...appendPK(config, pk), data: body, method: 'put' })\n      .then(res => {\n        setError(null)\n        setData(prevData => [\n          ...prevData.filter(obj => obj.id !== pk),\n          res.data,\n        ])\n        setLoading(false)\n        return Promise.resolve(res)\n      })\n      .catch(err => {\n        setError(err)\n        setLoading(false)\n        return Promise.reject(err)\n      })\n  }\n\n  const retrieve = (pk, params = {}) => {\n    setLoading(true)\n    return request({\n      ...appendPK(config, pk),\n      params: {\n        ...(objHasProperty(config, 'params') ? config.params : {}),\n        ...params,\n      },\n      method: 'get',\n    })\n      .then(res => {\n        setError(null)\n        setData(prevData => [\n          ...prevData.filter(obj => obj.id !== pk),\n          res.data,\n        ])\n        setLoading(false)\n        return Promise.resolve(res)\n      })\n      .catch(err => {\n        setError(err)\n        setLoading(false)\n        return Promise.reject(err)\n      })\n  }\n\n  const destroy = (pk, body = {}) => {\n    setLoading(true)\n\n    return request({ ...appendPK(config, pk), data: body, method: 'delete' })\n      .then(res => {\n        setError(null)\n        setData(prevData => prevData.filter(obj => obj.id !== pk))\n        setLoading(false)\n        return Promise.resolve(res)\n      })\n      .catch(err => {\n        setError(err)\n        setLoading(false)\n        return Promise.reject(err)\n      })\n  }\n\n  return [{ list, retrieve, update, create, destroy }, data, error]\n}\n","import React from 'react'\n\nimport style from '../../scss/ui.module.scss'\n\nconst List = ({ children }) => <ul className={style.list}>{children}</ul>\n\nconst ListItem = ({ title, subtitle, buttons }) => (\n  <li>\n    <div className={style.listText}>\n      <h3>{title}</h3>\n      <p>{subtitle}</p>\n    </div>\n    <div className={style.listButtons}>{buttons}</div>\n  </li>\n)\n\nconst ListButton = ({ onClick, iconComponent: Icon, text, shown }) =>\n  shown ? (\n    <button type=\"button\" onClick={onClick} title={text}>\n      <Icon />\n    </button>\n  ) : (\n    <></>\n  )\n\nListButton.defaultProps = {\n  shown: true,\n}\n\nexport { List, ListItem, ListButton }\n","import React, { useState } from 'react'\nimport moment from 'moment'\nimport 'moment/locale/sv'\n\nconst DateTimePicker = ({ value, onChange }) => {\n  return (\n    <div>\n      <input\n        type=\"date\"\n        value={value ? value.format('YYYY-MM-DD') : ''}\n        onChange={e => {\n          const timeString = e.target.value\n          const year = parseInt(timeString.slice(0, 4), 10)\n          const month = parseInt(timeString.slice(5, 7), 10)\n          const date = parseInt(timeString.slice(8, 10), 10)\n          if (date && month && year) {\n            const newValue = moment(value).set({ year, month: month - 1, date })\n            onChange(newValue)\n          }\n        }}\n      />\n      <input\n        type=\"time\"\n        value={value ? value.format('HH:mm') : ''}\n        onChange={e => {\n          const timeString = e.target.value\n          const hour = parseInt(timeString.slice(0, 2), 10)\n          const minute = parseInt(timeString.slice(3, 5), 10)\n          if (!Number.isNaN(hour) && !Number.isNaN(minute)) {\n            const newValue = moment(value).set({ hour, minute })\n            onChange(newValue)\n          }\n        }}\n      />\n    </div>\n  )\n}\n\nexport default DateTimePicker\n","import React, { useState, useEffect } from 'react'\n\nimport { FiTrash2 } from 'react-icons/fi'\nimport useRestEndpoint from '../request/useRestEndpoint'\nimport { List, ListItem, ListButton } from '../ui/list'\n\nconst DoorkeeperPanel = ({ event }) => {\n  const [input, setInput] = useState('')\n\n  const [{ list, destroy, create }, doorkeepers] = useRestEndpoint({\n    endpoint: '/checkin/doorkeepers/',\n  })\n\n  useEffect(\n    () => {\n      if (event) list({ event_id: event.id })\n      // TODO: handle errors\n    },\n    [event]\n  )\n\n  if (doorkeepers === null) return <></>\n\n  return (\n    <div>\n      <h2>Dörrvakter</h2>\n      <form\n        onSubmit={e => {\n          e.preventDefault()\n          setInput('')\n\n          create({\n            user_username: input,\n            event_id: event.id,\n          })\n        }}\n      >\n        <input value={input} onChange={e => setInput(e.target.value)} />\n      </form>\n      <List>\n        {doorkeepers.map(doorkeeper => (\n          <ListItem\n            title={doorkeeper.user.pretty_name}\n            key={doorkeeper.id}\n            buttons={[\n              <ListButton\n                onClick={() => destroy(doorkeeper.id)}\n                iconComponent={FiTrash2}\n                text=\"Ta bort dörrvakt\"\n                key=\"remove\"\n              />,\n            ]}\n          />\n        ))}\n      </List>\n    </div>\n  )\n}\n\nexport default DoorkeeperPanel\n"],"sourceRoot":""}