(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{INns:function(e,t,a){"use strict";var n=a("t8Zj"),l=a("q1tI"),c=a.n(l),r=a("ubHu"),i=a.n(r),s=a("Rq/j");const o=({title:e,choices:t,categorizedChoices:a,choice:l,setChoice:r,label:o,action:u,actionLabel:m,noChoicesLabel:d})=>{const E=[].concat(Object(n.a)(t||[]),Object(n.a)(Object.keys(a).reduce((e,t)=>[].concat(Object(n.a)(e),Object(n.a)(a[t])),[])));return c.a.createElement("div",{className:i.a.titleChooser},c.a.createElement("h1",null,e),c.a.createElement("div",{className:i.a.actions},E.length?c.a.createElement("div",{className:i.a.selectContainer},c.a.createElement("select",{onChange:e=>{const t=e.target.value,a=""===t?null:E.filter(e=>""+e.id===t)[0];r(a)},value:l?l.id:""},c.a.createElement("option",{hidden:!0,value:""}),t.sort().map(e=>c.a.createElement("option",{value:e.id,key:e.id},e[o])),Object.keys(a).sort().map(e=>c.a.createElement("optgroup",{label:e,key:e},a[e].sort().map(e=>c.a.createElement("option",{value:e.id,key:e.id},e[o]))))),null===l&&c.a.createElement("div",{className:i.a.hint},"Välj ett objekt")):c.a.createElement("span",null,d),u&&c.a.createElement(s.a,{onClick:u},m)))};o.defaultProps={categorizedChoices:{},choices:[],action:null,actionLabel:"",choice:null,noChoicesLabel:"",setChoice:()=>{},label:""},t.a=o},QaCa:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return o}));var n=a("q1tI"),l=a.n(n),c=a("ubHu"),r=a.n(c);const i=({children:e})=>l.a.createElement("ul",{className:r.a.list},e),s=({title:e,subtitle:t,buttons:a,color:n})=>l.a.createElement("li",{className:n?r.a.listItemColor:"",style:{borderColor:n}},l.a.createElement("div",{className:r.a.listText},l.a.createElement("h3",null,e),l.a.createElement("p",null,t)),l.a.createElement("div",{className:r.a.listButtons},a));s.defaultProps={color:null};const o=({href:e,onClick:t,iconComponent:a,text:n,shown:c})=>c?l.a.createElement(l.a.Fragment,null,e?l.a.createElement("a",{className:r.a.listButton,href:e,onClick:t,title:n},l.a.createElement(a,null)):l.a.createElement("button",{className:r.a.listButton,type:"button",onClick:t,title:n},l.a.createElement(a,null))):l.a.createElement(l.a.Fragment,null);o.defaultProps={shown:!0}},T4TL:function(e,t,a){"use strict";var n=a("q1tI"),l=a.n(n),c=a("VtrM");t.a=({currentMeeting:e,voteId:t})=>{const{data:a}=Object(c.b)(()=>t&&"/voting/admin-votes/"+t+"/"),n=(a?a.alternatives.map(e=>e.num_votes):[]).reduce((e,t)=>e+t,0),r=a?a.attendants_voted:"",{data:i}=Object(c.b)("/voting/admin-votes/?event_id="+e.id),s=i.filter(e=>e.id===t)[0],o=s.max_number_of_selectable_alternatives,u=s.min_number_of_selectable_alternatives;return l.a.createElement("div",null,u<o&&l.a.createElement("p",null,u,"-",o," alternativ väljs av deltagarna"),u===o&&l.a.createElement("p",null,o," alternativ väljs av deltagarna"),l.a.createElement("ul",null,a&&a.alternatives.map(e=>l.a.createElement("li",{key:e.text},e.text+": "+e.num_votes,n?" ("+(e.num_votes?Math.round(1e3*e.num_votes/n)/10:0)+"%)":""))),l.a.createElement("p",null,"Summa av alla röster: ",n),l.a.createElement("p",null,"Antal personer som röstat: ",r))}},kRmr:function(e,t,a){"use strict";a.r(t);var n=a("t8Zj"),l=a("q1tI"),c=a.n(l),r=a("VtrM"),i=(a("Rq/j"),a("ZACD"));var s=({currentMeeting:e,updatePatch:t})=>c.a.createElement("div",null,c.a.createElement("h2",null,"Mötesinfo"),c.a.createElement("h3",null,e.name),e.description&&c.a.createElement("p",{style:{whiteSpace:"pre-line"}},e.description),c.a.createElement("h3",null,"Detaljer"),c.a.createElement("ul",null,c.a.createElement("li",null,e.enable_speaker_requests?"Talarlista aktiverad":"Talarlista inaktiverad"),c.a.createElement("li",null,e.open_attendance?"Öppen incheckning":"Stängd incheckning"),c.a.createElement("li",null,"Mötesdata rensas: "+e.clear_data))),o=a("Tgqd"),u=a("zGz4"),m=a("T4TL"),d=a("QaCa");var E=({currentMeeting:e})=>{const{data:t}=Object(r.b)("/voting/admin-votes/?event_id="+e.id),[a]=Object(u.a)(m.a),n=Object(u.b)();return Object(l.useEffect)(n,[t]),c.a.createElement("div",null,c.a.createElement("h2",null,"Omröstningar"),c.a.createElement(d.a,null,t&&t.filter(t=>t.meeting===e.id).map(t=>c.a.createElement(d.c,{title:t.question,subtitle:t.open?"Active":void 0,key:t.id,buttons:[c.a.createElement(d.b,{onClick:()=>a('Resultat av "'+t.question+'"',{currentMeeting:e,voteId:t.id}),iconComponent:o.a,text:"Resultat",key:"results"})]}))))};var v=({currentMeeting:e})=>{const{data:t}=Object(r.b)(()=>"/voting/attendants/?meeting_id="+e.id,{refreshInterval:4e3});return null===t?c.a.createElement(c.a.Fragment,null):c.a.createElement("div",null,c.a.createElement("h2",null,"Deltagare"),c.a.createElement("div",null,c.a.createElement("p",null,"Röstlängd: "+(t?(e=>e.filter(e=>e.has_voting_rights))(t).length:0))))},b=a("zw+i"),h=a("INns"),p=a("r90U");t.default=({pageContext:{title:e}})=>{const{0:t,1:a}=Object(l.useState)(null),{data:o,mutate:u}=Object(r.b)("/voting/admin-meetings/"),m=o?Object(n.a)(o).reverse():null;return Object(l.useEffect)(()=>{t&&a(m.find(e=>e.id===t.id))},[m]),c.a.createElement(p.a,null,c.a.createElement(b.a,null,c.a.createElement(b.b,{fullWidth:!0},c.a.createElement(h.a,{title:e,choice:t,setChoice:a,choices:m,label:"name",noChoicesLabel:"Det finns inga möten just nu."})),t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(b.b,null,c.a.createElement(s,{currentMeeting:t,updatePatch:async e=>{const{data:a}=await Object(i.e)("/voting/admin-meetings/"+t.id+"/",e);u([].concat(Object(n.a)(o.filter(e=>e.id!==t.id)),[a]))}})),c.a.createElement(b.b,null,c.a.createElement(E,{currentMeeting:t})),c.a.createElement(b.b,null,c.a.createElement(v,{currentMeeting:t})))))}}}]);
//# sourceMappingURL=component---src-components-voting-counter-page-js-0fd550fc918492a6af50.js.map